<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>覚醒素材メモ帳</title>
<style>
body {
  font-family: "Segoe UI", sans-serif;
  margin:0; padding:0; background:#f9f9fc; color:#333;
}
header {
  text-align:center; padding:1rem; background:#4a90e2; color:#fff;
  font-size:1.5rem; font-weight:bold; box-shadow:0 2px 5px rgba(0,0,0,0.1);
}
.container { padding:1rem; max-width:1200px; margin:0 auto; }
.reset-btn {
  display:inline-block; margin:1rem 0; padding:0.5rem 1rem;
  font-size:1rem; background:#e74c3c; color:#fff; border:none; border-radius:6px;
  cursor:pointer; text-align:center;
}
.reset-btn:hover { background:#c0392b; }
h2 { margin-top:2rem; font-size:1.2rem; color:#4a90e2; border-bottom:2px solid #ddd; padding-bottom:0.3rem; }
.category { display:flex; flex-wrap:wrap; gap:1rem; margin-top:1rem; }
.item {
  flex:0 0 250px; background:#fff; padding:0.8rem; border-radius:10px;
  box-shadow:0 2px 5px rgba(0,0,0,0.1); display:flex; justify-content:space-between; align-items:center;
}
.item .label { width:120px; font-size:1em; font-weight:bold; white-space:nowrap; text-align:left; }
.item .label.vampire-hunter { font-size:0.85em; } /* 文字小さく */
.controls { display:flex; align-items:center; gap:0.3rem; flex-shrink:0; }
.controls button {
  padding:0.3rem 0.6rem; border:none; border-radius:5px; cursor:pointer;
  background:#4a90e2; color:#fff; font-size:1rem;
}
.controls button:disabled { background:#ccc; cursor:not-allowed; }
.count { min-width:2rem; text-align:center; font-weight:bold; }

/* カテゴリ色分け */
#近接 .item { background:#e8f3ff; border-left:6px solid #4a90e2; }
#遠距離 .item { background:#e9f9f0; border-left:6px solid #27ae60; }
#遠近距離 .item { background:#f4ecff; border-left:6px solid #9b59b6; }

/* サイドバー */
.quick-access {
  position:fixed;
  top:0;
  right:-250px;
  width:250px;
  height:97vh;
  background:#fff;
  box-shadow:-2px 0 10px rgba(0,0,0,0.15);
  transition:right 0.3s ease;
  padding:1rem;
  z-index:1000;
  border-left:2px solid #4a90e2;

  display:flex;
  flex-direction:column; /* 上下で分ける */
}
.quick-access:hover { right:0; }
.quick-access.fixed {
  right: 0 !important; /* hover より優先 */
}

.quick-tab {
  position:fixed;
  top:50%;
  right:0;
  transform:translateY(-50%);
  background:#4a90e2;
  color:#fff;
  padding:0.5rem 0.8rem;
  writing-mode:vertical-rl;
  text-align:center;
  cursor:pointer;
  border-radius:8px 0 0 8px;
  z-index:1001;
}

.quick-tab.active {
  background-color: #357ABD;
}

/* 入力欄は固定 */
#quick-filter {
  flex:0 0 auto;
  width:85%;
  margin-bottom:0.5rem;
  padding:0.4rem;
  border-radius:6px;
  border:1px solid #ccc;
}

/* ボタンは残りをスクロール領域に */
#quick-buttons {
  flex:1 1 auto;
  overflow-y:auto;
}

.quick-access h3 { margin-top:1rem; font-size:1.1rem; color:#333; border-bottom:1px solid #ddd; padding-bottom:0.3rem; }
.quick-btn {
  display:block; width:95%; margin:0.3rem 0; padding:0.5rem; text-align:left;
  background:#ecf5ff; border:1px solid #ccc; border-radius:6px; cursor:pointer; font-size:0.9rem;
}
.quick-btn:hover { background:#dceeff; }

/* スクロールバー */
.quick-access::-webkit-scrollbar { width:8px; }
.quick-access::-webkit-scrollbar-track { background:#f1f1f1; border-radius:4px; }
.quick-access::-webkit-scrollbar-thumb { background:#4a90e2; border-radius:4px; }
.quick-access::-webkit-scrollbar-thumb:hover { background:#357ABD; }
.quick-access { scrollbar-width: thin; scrollbar-color: #4a90e2 #f1f1f1; }
</style>
</head>
<body>
<header>覚醒素材必要数のメモ帳</header>
<div class="container">
  <button class="reset-btn" onclick="resetAll()">リセット</button>

  <h2>近接</h2>
  <div class="category" id="近接"></div>

  <h2>遠距離</h2>
  <div class="category" id="遠距離"></div>

  <h2>遠近距離</h2>
  <div class="category" id="遠近距離"></div>
</div>

<div class="quick-tab">📌</div>
<div class="quick-access">
  <h3>覚醒クラスから逆引き</h3>
  <input type="text" id="quick-filter" placeholder="検索...">
  <div id="quick-buttons"></div>
</div>

<script>
// 中央一覧データ
const listData = {
  "近接": ["ソルジャー","ヘビーアーマー","ワルキューレ","ローグ","バンデット","サムライ","忍者","モンク","魔法剣士","エンジェル","中級竜兵","神官戦士"],
  "遠距離": ["アーチャー","メイジ","ヒーラー","ウィッチ","パイレーツ","ヴァンパイアハンター","ビショップ","砲術師","シービショップ"],
  "遠近距離": ["スカイウォリアー","スカイシューター"]
};

// サイドバークイックアクセス
const quickData = {
  "近接":[
    {name:"ソルジャー", add:{ソルジャー:1,ローグ:1,バンデット:1}},
    {name:"ヘビーアーマー", add:{ヘビーアーマー:2,ソルジャー:1}},
    {name:"ワルキューレ", add:{ワルキューレ:1,ローグ:1,ヘビーアーマー:1}},
    {name:"ローグ", add:{ローグ:1,バンデット:1,サムライ:1}},
    {name:"プリンセス", add:{ソルジャー:1,ワルキューレ:1,ウィッチ:1}},
    {name:"ヴァンパイアプリンセス", add:{ワルキューレ:1,ウィッチ:1,ヴァンパイアハンター:1}},
    {name:"イモータルプリンセス", add:{ワルキューレ:1,ヒーラー:1,ヴァンパイアハンター:1}},
    {name:"イビルプリンセス", add:{ローグ:1,サムライ:1,ビショップ:1}},
    {name:"バンデット", add:{バンデット:1,サムライ:1,パイレーツ:1}},
    {name:"中級竜兵", add:{ソルジャー:1,バンデット:1,中級竜兵:1}},
    {name:"ドラゴンプリンセス", add:{ヘビーアーマー:1,サムライ:1,中級竜兵:1}},
    {name:"サムライ", add:{サムライ:1,ヘビーアーマー:1,メイジ:1}},
    {name:"忍者", add:{忍者:1,ウィッチ:1,ワルキューレ:1}},
    {name:"ペガサスライダー", add:{ワルキューレ:1,ヘビーアーマー:1,メイジ:1}},
    {name:"ダークファイター", add:{ソルジャー:1,ヘビーアーマー:1,ヒーラー:1}},
    {name:"アベンジャー", add:{ソルジャー:1,ヘビーアーマー:1,ヒーラー:1}},
    {name:"モンク", add:{モンク:1,バンデット:1,ソルジャー:1}},
    {name:"前衛戦術家", add:{サムライ:1,ワルキューレ:1,ソルジャー:1}},
    {name:"魔法剣士", add:{魔法剣士:1,忍者:1,ソルジャー:1}},
    {name:"エンジェル", add:{ワルキューレ:1,エンジェル:1,ヒーラー:1}},
    {name:"くぐつ使い", add:{ヘビーアーマー:1,モンク:1,パイレーツ:1}},
    {name:"セーラー", add:{ソルジャー:1,忍者:1,メイジ:1}},
    {name:"妖狐", add:{ワルキューレ:1,サムライ:1,忍者:1}},
    {name:"神官戦士", add:{ソルジャー:1,神官戦士:1,ヒーラー:1}},
    {name:"メイジアーマー", add:{ヘビーアーマー:2,バンデット:1}},
    {name:"ドラゴンライダー", add:{ヘビーアーマー:1,ワルキューレ:1,バンデット:1}},
    {name:"ボウライダー", add:{アーチャー:2,ワルキューレ:1}},
    {name:"メイド", add:{ローグ:1,忍者:1,モンク:1}},
    {name:"ヴァンパイアロード", add:{ソルジャー:1,ローグ:1,ヴァンパイアハンター:1}},
    {name:"ソードマスター", add:{バンデット:1,サムライ:1,魔法剣士:1}},
    {name:"ロイヤルガード", add:{ソルジャー:1,ヘビーアーマー:1,ワルキューレ:1}},
    {name:"仙人", add:{ワルキューレ:1,モンク:1,砲術士:1}},
    {name:"魔神", add:{モンク:1,ヴァンパイアハンター:1,エンジェル:1}},
    {name:"仙猿", add:{ワルキューレ:1,モンク:1,砲術士:1}},
    {name:"戦の聖霊", add:{ローグ:1,サムライ:1,エンジェル:1}},
    {name:"ダークストーカー", add:{ソルジャー:1,エンジェル:1,ヴァンパイアハンター:1}},
    {name:"ぬらりひょん", add:{サムライ:1,忍者:1,魔法剣士:1}},
    {name:"重装砲兵", add:{ヘビーアーマー:1,バンデット:1,砲術士:1}},
    {name:"鬼", add:{ヘビーアーマー:1,バンデット:1,砲術士:1}}, // mada
    {name:"インペリアルナイト", add:{ヘビーアーマー:1,ワルキューレ:1,魔法剣士:1}},
    {name:"天狗", add:{忍者:1,魔法剣士:1,エンジェル:1}},
    {name:"鍛冶職人", add:{サムライ:1,バンデット:1,魔法剣士:1}},
    {name:"グラディエーター", add:{バンデット:1,モンク:1,モンク:1}},
    {name:"キョンシー", add:{ローグ:1,神官戦士:1,ヴァンパイアハンター:1}},
    {name:"雷公", add:{忍者:1,モンク:1,魔法剣士:1}},
    {name:"モンスターブレイカー", add:{サムライ:1,魔法剣士:1,ビショップ:1}},
    {name:"風伯", add:{サムライ:1,モンク:1,砲術士:1}},
    {name:"グランドナイト", add:{ソルジャー:1,ヘビーアーマー:1,モンク:1}},
    {name:"グリフィンライダー", add:{ワルキューレ:1,忍者:1,エンジェル:1}},
    {name:"サッパー", add:{ソルジャー:1,モンク:1,砲術士:1}},
    {name:"真人", add:{忍者:1,メイジ:1,ウィッチ:1}},
    {name:"邪仙", add:{ワルキューレ:1,モンク:1,砲術士:1}},
    {name:"魔王親衛隊", add:{ソルジャー:1,ローグ:1,魔法剣士:1}},
    {name:"ぬえ", add:{忍者:1,ワルキューレ:1,ウィッチ:1}},
    {name:"鬼刃忍", add:{サムライ:1,忍者:1,メイジ:1}},
    {name:"ランスマスター", add:{ソルジャー:1,ローグ:1,モンク:1}},
    {name:"デーモンロード", add:{ソルジャー:1,ローグ:1,モンク:1}},
    {name:"犬神", add:{忍者:1,魔法剣士:1,パイレーツ:1}},
    {name:"料理人", add:{神官戦士:1,エンジェル:1,ヒーラー:1}},
    {name:"デモンルーン", add:{忍者:1,ウィッチ:1,ビショップ:1}},
    {name:"スチームナイト", add:{ヘビーアーマー:1,サムライ:1,ソルジャー:1}},
// ここからまだ未対応
/*
    {name:"エンプレス", add:{サムライ:1,バンデット:1,モンク:1}},
    {name:"かまいたち", add:{サムライ:1,バンデット:1,モンク:1}},
    {name:"シーソルジャー", add:{ソルジャー:2,パイレーツ:1}},
    {name:"アクアナイト", add:{サムライ:1,バンデット:1,モンク:1}},
    {name:"テンプルナイト", add:{サムライ:1,バンデット:1,モンク:1}},
    {name:"迷宮の悪霊", add:{サムライ:1,バンデット:1,モンク:1}},
    {name:"オートマタ", add:{サムライ:1,バンデット:1,モンク:1}},
    {name:"ぬりかべ", add:{サムライ:1,バンデット:1,モンク:1}},
    {name:"霊刀つくもがみ", add:{サムライ:1,バンデット:1,モンク:1}},
    {name:"戦巫女", add:{サムライ:1,バンデット:1,モンク:1}},
    {name:"儀仗軍神", add:{サムライ:1,バンデット:1,モンク:1}},
    {name:"武侠", add:{サムライ:1,バンデット:1,モンク:1}},
    {name:"サベージファイター", add:{サムライ:1,バンデット:1,モンク:1}},
    {name:"ハデスソルジャー", add:{サムライ:1,バンデット:1,モンク:1}},
    {name:"隧道掘削兵", add:{サムライ:1,バンデット:1,モンク:1}},
    {name:"シールダー", add:{サムライ:1,バンデット:1,モンク:1}},
    {name:"女王子", add:{サムライ:1,バンデット:1,モンク:1}},
    {name:"一目の竜", add:{サムライ:1,バンデット:1,モンク:1}},
    {name:"天尊", add:{サムライ:1,バンデット:1,モンク:1}},
    {name:"ダーク王子", add:{サムライ:1,バンデット:1,モンク:1}},
    {name:"処刑人", add:{サムライ:1,バンデット:1,モンク:1}},
    {name:"神話の継承者", add:{サムライ:1,バンデット:1,モンク:1}},
    {name:"デモンリドゥ", add:{サムライ:1,バンデット:1,モンク:1}},
    {name:"カオスルーラー", add:{サムライ:1,バンデット:1,モンク:1}},
    {name:"衛士", add:{サムライ:1,バンデット:1,モンク:1}},
    {name:"コロッサス", add:{サムライ:1,バンデット:1,モンク:1}},
    {name:"妖糸使い", add:{サムライ:1,バンデット:1,モンク:1}},
    {name:"憤怒の海神", add:{サムライ:1,バンデット:1,モンク:1}},
    {name:"初代皇帝", add:{サムライ:1,バンデット:1,モンク:1}},
    {name:"西の守護龍", add:{サムライ:1,バンデット:1,モンク:1}},
    {name:"東の守護龍", add:{サムライ:1,バンデット:1,モンク:1}},
    */
    {name:"皇帝", add:{ヘビーアーマー:1,ワルキューレ:1,アーチャー:1}}
  ],
  "遠距離":[
    {name:"アーチャー", add:{アーチャー:2,パイレーツ:1}},
    {name:"メイジ", add:{メイジ:1,ウィッチ:1,サムライ:1}},
    {name:"ヒーラー", add:{ヒーラー:2,メイジ:1}},
    {name:"ウィッチ", add:{ウィッチ:2,メイジ:1}},
    {name:"パイレーツ", add:{パイレーツ:1,ローグ:1,バンデット:1}},
    {name:"ドラゴンシャーマン", add:{メイジ:1,ヒーラー:1,中級竜兵:1}},
    {name:"ヴァンパイアハンター", add:{ヴァンパイアハンター:1}},
    {name:"シャーマン", add:{ヴァンパイアハンター:1,ウィッチ:1,ヒーラー:1}},
    {name:"ビショップ", add:{メイジ:1,ヒーラー:1,アーチャー:1}},
    {name:"後衛戦術家", add:{アーチャー:1,忍者:1,パイレーツ:1}},
    {name:"陰陽師", add:{サムライ:1,メイジ:1,ウィッチ:1}},
    {name:"サモナー", add:{メイジ:1,ヒーラー:1,ウィッチ:1}},
    {name:"風水使い", add:{メイジ:1,ヒーラー:2}},
    {name:"砲術師", add:{砲術師:1,メイジ:1,パイレーツ:1}},
    {name:"ダンサー", add:{ワルキューレ:1,忍者:1,ヒーラー:1}},
    {name:"政務官", add:{メイジ:1,ヒーラー:1,ウィッチ:1}},
    {name:"ネクロマンサー", add:{アーチャー:1,メイジ:1,ウィッチ:1}},
    {name:"クロノウィッチ", add:{神官戦士:1,メイジ:1,ウィッチ:1}},
    {name:"ドルイド", add:{ローグ:1,魔法剣士:1,ビショップ:1}},
    {name:"アルケミスト", add:{神官戦士:1,メイジ:1,砲術士:11}},
    {name:"レンジャー", add:{アーチャー:2,忍者:1}},
    {name:"シーフ", add:{ローグ:1,バンデット:1,忍者:1}},
    {name:"呪術使い", add:{忍者:1,ウィッチ:1,ビショップ:1}},
    {name:"魔物使い", add:{アーチャー:1,メイジ:1,ビショップ:1}},
    {name:"ダークプリースト", add:{ヒーラー:1,ビショップ:1,エンジェル:1}},
    {name:"エンチャンター", add:{魔法剣士:1,ヒーラー:1,ウィッチ:1}},
    {name:"マーチャント", add:{砲術師:1,ウィッチ:1,ヒーラー:1}},
    {name:"フェンリルシャーマン", add:{砲術師:1,ウィッチ:1,ヒーラー:1}},
    {name:"モンスタースレイヤー", add:{砲術師:1,ウィッチ:1,ヒーラー:1}},
    {name:"デモンサモナー", add:{砲術師:1,ウィッチ:1,ヒーラー:1}},
    {name:"エレメンタラー", add:{砲術師:1,ウィッチ:1,ヒーラー:1}},
    {name:"猫又", add:{砲術師:1,ウィッチ:1,ヒーラー:1}},
    {name:"道化師", add:{砲術師:1,ウィッチ:1,ヒーラー:1}},
    {name:"ライフリンカー", add:{砲術師:1,ウィッチ:1,ヒーラー:1}},
    {name:"幻獣使い", add:{砲術師:1,ウィッチ:1,ヒーラー:1}},
    {name:"ルーンアコライト", add:{砲術師:1,ウィッチ:1,ヒーラー:1}},
    {name:"ロード", add:{砲術師:1,ウィッチ:1,ヒーラー:1}},
    {name:"支援工兵", add:{砲術師:1,ウィッチ:1,ヒーラー:1}},
    {name:"デモンシャーマン", add:{砲術師:1,ウィッチ:1,ヒーラー:1}},
    {name:"異界召喚士", add:{砲術師:1,ウィッチ:1,ヒーラー:1}},
    {name:"発明家", add:{砲術師:1,ウィッチ:1,ヒーラー:1}},
    {name:"シービショップ", add:{シービショップ:1}},
    {name:"符術士", add:{シービショップ:1}},
    {name:"狛犬", add:{シービショップ:1}},
    {name:"儀式魔術師", add:{シービショップ:1}},
    {name:"幻術士", add:{シービショップ:1}},
    {name:"ハーバリスト", add:{シービショップ:1}},
    {name:"霊宝つくもがみ", add:{シービショップ:1}},
    {name:"スカラー", add:{シービショップ:1}},
    {name:"夜行さん", add:{シービショップ:1}},
    {name:"ドラゴンメイジ", add:{シービショップ:1}},
    {name:"ドラグーン", add:{シービショップ:1}},
    {name:"座敷わらし", add:{シービショップ:1}},
    {name:"魔界総帥", add:{シービショップ:1}},
    {name:"雪娘", add:{シービショップ:1}},
    {name:"リッチ【闇の軍勢】", add:{シービショップ:1}},
    {name:"政務官【闇の軍勢】", add:{シービショップ:1}},
    {name:"ガンスリンガー", add:{シービショップ:1}},
    {name:"時の俯瞰者", add:{シービショップ:1}},
    {name:"ハデスシャーマン", add:{シービショップ:1}},
    {name:"メディック", add:{シービショップ:1}},
    {name:"豊穣神", add:{シービショップ:1}},
    {name:"吟遊詩人", add:{シービショップ:1}},
    {name:"呪命師", add:{シービショップ:1}},
    {name:"悪疫の王", add:{シービショップ:1}},
    {name:"蟲使い", add:{シービショップ:1}},
    {name:"ポーター", add:{シービショップ:1}},
  ],
  "遠近距離":[
    {name:"妖狸", add:{忍者:1,ウィッチ:1,ビショップ:1}},
    {name:"ロケットトルーパー", add:{アーチャー:1,パイレーツ:1,忍者:1}},
    {name:"スカイウォリアー", add:{バンデット:1,エンジェル:1,スカイウォリアー:1}},
    {name:"スカイシューター", add:{アーチャー:1,エンジェル:1,スカイシューター:1}},
    {name:"スカウト", add:{ソルジャー:1,ローグ:1,忍者:1}},
    {name:"スカイヒーラー", add:{ヒーラー:1,ビショップ:1,スカイシューター:1}},
    {name:"エアセイラー", add:{ソルジャー:1,砲術士:1,パイレーツ:1}},
  ]
};

// 中央カウンター初期化
const counts = {};
for(const cat in listData){
  listData[cat].forEach(name=> counts[name]=0);
}

// 中央一覧描画
for(const cat in listData){
  const container=document.getElementById(cat);
  listData[cat].forEach(name=>{
    const div=document.createElement("div");
    div.className="item";
    const lbl=document.createElement("div");
    lbl.className="label";
    if(name==="ヴァンパイアハンター") lbl.classList.add("vampire-hunter");
    lbl.id=name;
    lbl.textContent=name;
    const controls=document.createElement("div");
    controls.className="controls";
    const btnUp=document.createElement("button");
    btnUp.textContent="+";
    btnUp.onclick=()=>{ counts[name]++; updateButtons(name); }
    const btnDown=document.createElement("button");
    btnDown.textContent="-";
    btnDown.onclick=()=>{ if(counts[name]>0) counts[name]--; updateButtons(name); }
    const cnt=document.createElement("div");
    cnt.className="count";
    cnt.textContent=0;
    controls.appendChild(btnUp);
    controls.appendChild(cnt);
    controls.appendChild(btnDown);
    div.appendChild(lbl);
    div.appendChild(controls);
    container.appendChild(div);
  });
}

// 更新ボタン状態
function updateButtons(name){
  const div=document.getElementById(name).parentNode.querySelector(".controls");
  const count=counts[name];
  div.querySelectorAll("button")[1].disabled=count===0;
  div.querySelector(".count").textContent=count;
}

// リセット
function resetAll(){
  for(const name in counts) counts[name]=0;
  for(const name in counts) updateButtons(name);
}

// サイドバー生成＋フィルタ
const quickContainer=document.querySelector(".quick-access");
const input=document.getElementById("quick-filter");
const buttonsContainer=document.getElementById("quick-buttons");

function renderQuickButtons(filter=""){
  buttonsContainer.innerHTML="";
  for(const cat in quickData){
    const h=document.createElement("h3");
    h.textContent=cat;
    buttonsContainer.appendChild(h);
    quickData[cat].forEach(btn=>{
      if(btn.name.includes(filter)){
        const b=document.createElement("button");
        b.className="quick-btn";
        b.textContent=btn.name;
        b.onclick=()=>quickAdd(btn.add);
        buttonsContainer.appendChild(b);
      }
    });
  }
}

input.addEventListener("input", e=>renderQuickButtons(e.target.value));

// サイドバーから中央カウンター更新
function quickAdd(updates){
  for(const key in updates){
    if(counts.hasOwnProperty(key)){
      counts[key]=Math.max(0, counts[key]+updates[key]);
      updateButtons(key);
    }
  }
}

const tabbutton = document.querySelector('.quick-tab');
const lists = document.querySelector('.quick-access');

let moved = false;

tabbutton.addEventListener('click', () => {
  lists.classList.toggle('fixed');
  tabbutton.classList.toggle('active'); 
});

// 初回描画
renderQuickButtons();
</script>
</body>
</html>
